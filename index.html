<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>News Article Sentiment Analyzer</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    input { width: 80%; padding: 8px; }
    button { padding: 8px 16px; }
    #result { margin-top: 20px; padding: 10px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>News Article Sentiment Analyzer</h1>
  <p>Paste the URL of a news article below:</p>
  <input type="text" id="urlInput" placeholder="Enter news article URL">
  <button id="submitBtn">Submit</button>
  <div id="result"></div>

  <!-- Load the Sentiment library from a CDN -->
  <script src="https://unpkg.com/sentiment/build/sentiment.min.js"></script>
  <script>
    document.getElementById('submitBtn').addEventListener('click', function() {
      var url = document.getElementById('urlInput').value.trim();
      if (!url) {
        alert('Please enter a URL.');
        return;
      }
      
      // Using AllOrigins as a CORS proxy to fetch the article content.
      // You might need your own proxy if the target site has stricter CORS policies.
      var proxyUrl = 'https://api.allorigins.hexocode.repl.co/get?disableCache=true&url=' + encodeURIComponent(url);
      
      fetch(proxyUrl)
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          // Extract the HTML content from the fetched data.
          var html = data.contents;
          // Create a temporary element to extract the text content.
          var tempDiv = document.createElement('div');
          tempDiv.innerHTML = html;
          var textContent = tempDiv.textContent || tempDiv.innerText || '';
          
          // Run sentiment analysis on the extracted text.
          var sentiment = new Sentiment();
          var analysis = sentiment.analyze(textContent);
          var score = analysis.score;
          
          // A basic interpretation of sentiment score.
          var biasInterpretation = 'Neutral';
          if (score > 2) {
            biasInterpretation = 'Positive bias';
          } else if (score < -2) {
            biasInterpretation = 'Negative bias';
          }
          
          // Display the results.
          document.getElementById('result').innerHTML = `
            <h3>Sentiment Analysis Result</h3>
            <p><strong>Score:</strong> ${score}</p>
            <p><strong>Interpreted Bias:</strong> ${biasInterpretation}</p>
          `;
        })
        .catch(function(error) {
          console.error('Error fetching the article:', error);
          document.getElementById('result').innerHTML = '<p>Error fetching the article. Please check the URL and try again.</p>';
        });
    });
  </script>
</body>
</html>
